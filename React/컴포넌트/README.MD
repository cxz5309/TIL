# 컴포넌트
> 컴포넌트는 컴퓨터 소프트웨어에 있어서, 다시 사용할 수 있는 범용성을 위해 개발된 소프트웨어 구성 요소를 일컫는다.   
> - wikipedia
- 리액트는 컴포넌트의 역할인 재사용성과 범용성에 관심사를 분리하고 단일 책임으로 설계하는 역할을 권장한다.
- 작은 컴포넌트는 비교적 읽기도 쉽고 수정도 안전하며 테스트하기도 쉽다.
- 추상화 기법을 사용하면 하나의 역할을 수행하는 코드 덩어리에 이름을 부여하기 때문에 프로그램이 훨씬 잘 읽힌다.

## 단일 책임 원칙(SRP : Single Responsibility Principle)
> 모든 클래스는 하나의 책임만 가지며, 클래스는 그 책임을 완전히 캡슐화해야 함을 일컫는다. 클래스가 제공하는 모든 기능은 이 책임과 주의 깊게 부합해야 한다.  
>- wikipedia

흔히 객체 지향 5대 원칙으로 불리는 이 SOLID 원칙은 
- SRP(단일 책임 원칙)
- OCP(개방-폐쇄 원칙), 
- LSP(리스코프 치환 원칙), 
- DIP(의존 - 역전 원칙), 
- ISP(인터페이스 분리 원칙)
을 말하며, 앞자를 딴 것으로, 프로그래머가 시간이 지나도 유지 보수와 확장이 쉬운 소프트웨어를 만드는 데 도움을 주려고 고완되었다.  

- SRP를 생각할 때는 설계하는 해당 모듈에만 초점을 맞추는 것이 아니라 거시적인 관점에서 해당 모듈에 어떤 의존성이 발생하는지에 대해서도 알아야 한다.

- 주로 자바 백엔드에서 많이 볼 수 있는 원칙이지만 리액트에서도 SRP를 중시하였다. 단일 책임 원칙은  SOLID를 정리하고 명명한 로버트C 마틴이 '클린 아키텍처'에서 이렇게 정의한다.

> 하나의 모듈은 하나의, 오직 하나의 액터에 대해서만 책임져야 한다.

- 이것을 리액트에서 사용하기 위한 방법이 컴포넌트이다.
각 컴포넌트는 단 한 개의 책임을 가져야 한다

## react component
- App 컴포넌트는 어플리케이션의 모든 상태와 UI를 담고있다. 
- 이것은 역할을 분리해 작은 컴포넌트로 나누는 것이 좋다. 더 쉽게 읽히고 안전하게 수정할 수 있기 때문이다.
- 컴포넌트는 클래스 컴포넌트와 함수 컴포넌트 이렇게 두 가지 종류가 있다. 
- 스스로 상태 관리가 필요한 경우 클래스 컴포넌트를 사용하고, 그렇지 않으면 함수 컴포넌트로도 충분하다.
- 컴포넌트 내부에 위치한 state가 UI와 밀접하게 반응하는데 외부로부터 전달받은 props도 UI 동일한 성질을 갖는다. 
- 함수 컴포넌트에서는 props를 이용해 UI를 만들수 있기 때문에 리액티브 성질을 유지할 수 있다.

## Header: 함수 컴포넌트
- 리액트는 Component 클래스를 상속해 컴포넌트를 만드는 방법 외에 함수 컴포넌트를 만들 수 있다.


```
const Header = () => (
  <header>
    <h2 className="container">검색</h2>
  </header>
)
```  
이 헤더를
```
render() {
  return <Header />
}
```
단 한 줄로 대체 가능하다.

- 함수 컴포넌트와 클래스 컴포넌트의 차이는 상태의 유무다.

## props
- 리액트는 상태 관리에 state와 props를 활용한다.

```
const Hello = ({ name }) => <>Hello {name}</>  // 1

<Hello name="world" /> // 2
```

- Props는 객체 모양으로 컴포넌트로 전달된다. 
- 이 값으로 리액트 앨리먼트를 만든다. 
- 컴포넌트의 props는 속성 이름으로 전달한다. 
- Hello 컴포넌트는 전달된 name 값에 따라 UI가 변경될 것이다.

## 컴포넌트의 재활용
- 컴포넌트를 재활용하는 방법은 3가지가 있는데 각각 상속, 컴포넌트 담기, 특수화 이다.

1. 상속
- 공통 로직을 부모 클래스가 갖는다.
리스트 상태를 가지고 이를 리스트 렌더링한다. 
- 전통적인 OOP 스타일의 상속 구조를 활용할 수 있다는 점에서는 익숙한 방식이지만 상속 단계가 많아지면 코드를 파악하는데 다소 어려울 수도 있다는 단점이 있다. 

> - 특히 state에 반응하는 UI 코드가 상속 구조에 가려 잘 보이지 않을 수도 있기 때문이다. 따라서 지양하는 편이다.

2. 조합: 컴포넌트 담기
- 함수를 조합하듯 컴포넌트를 조합하는 방식으로 코드 재활용을 권장한다. 
- 리액트의 props 에는 어떠한 자바스크립트 값도 전달할 수 있는데 props를 활용해서 컴포넌트를 조합한다. 
- 이 외에도 리액트 컴포넌트 자체를 전달해 조합할 수도 있다.

3. 조합: 특수화
- 이것도 props를 사용하는 방식이라는 점에서는 같지만 접근방법이 다르다.

## 컴포넌트의 문제점
- 컴포넌트를 작게 쪼게면 서로 격리시킬수 있는 장점이 있지만 어떤 경우에는 하나의 상태를 다른 컴포넌트에서도 사용하는 경우가 빈번히 발생한다. 
- 이럴 때는 가장 가까운 부모 컴포넌트로 state 끌어 올려 문제를 해결한다. 