# 리액트 개요

## 리액트란?
> React는 웹 프레임워크로, 자바스크립트 라이브러리의 하나로서 사용자 인터페이스를 만들기 위해 사용된다.
- React는 facebook에서 만든 프론트엔드 라이브러리라고 볼 수 있다.
- 싱글 페이지 애플리케이션이나 모바일 애플리케이션의 개발 시 토대로 사용될 수 있다.
즉, 현재 많이 활용되고 있는, 웹/앱의 View를 개발할 수 있도록 하는 인기있는 라이브러리라고 볼 수 있다.

## 리액트의 특징
## 1. 가상 돔(Virtual DOM)
리액트는 가상 돔을 사용하여 웹 애플리케이션의 성능을 극대화 시켰다.  
가상 돔을 이해하기 위해서는 우선 HTML과 CSS가 렌더링(Rendering) 되는 과정을 이해해야 하는데  
### 브라우저의 UI 연산 과정
![브라우저의 UI 연산 과정](https://d2.naver.com/content/images/2015/06/helloworld-59361-1.png)  
브라우저(Chrome, Firefox, Safari, IE 등)에서 사용자 인터페이스 즉, UI를 구성하는데는 위와 같은 과정을 거친다.  
<br>

여기서 렌더링 엔진의 동작 과정은
![웹킷 동작 과정](https://d2.naver.com/content/images/2015/06/helloworld-59361-3.png)  
웹킷 동작 과정  
![모질라의 게코 렌더링 엔진 동작 과정](https://d2.naver.com/content/images/2015/06/helloworld-59361-4.png)   
모질라의 게코 렌더링 엔진 동작 과정  

[참고] https://d2.naver.com/helloworld/59361

1. Parser - 각 파일들을 브라우저가 알아들을 수 있게 변환.
2. DOM Tree - 파일의 경우, 각 태그의 관계도 형성을 위해 DOM 트리 생성.
3. Attachment - HTML의 각 태그에 맞는 스타일(CSS. 정보를 객체 형태로 다음 단계로 넘겨줌.
4. Render Tree - 외부 CSS 파일이 선언되어있다면 이를 필요료 하는 각 HTML 엘리먼트에 결합 후, 이전 Attachment에서 전달받은 스타일 값 들을 계산, 그리고 레이아웃 정보 형성.
5. Layout - 렌더 트리 작업이 끝난 레이아웃에 대해서 좌표 부여.
6. Painting - 렌더링이 끝난 각 레이아웃들에게 실제 사용자에게 보여질 모양과 색 부여.  

이러한 방식으로 동작한다.
<br>

이제 맨 위의 DOM의 역할을 알아보자  
> DOM(Document Object Model) 은 문서객체모델로써 HTML 파일에서 정의한 각 태그의 관계도(Tree 구조)를 정의해주고, 각 태그에 대한 저장 및 조작접을 제공해준다.
html파일을 해석하여 트리 구조로 관계를 정의하고, 조작할 수 있는 조작점을 만들어준다.  
하지만 이 DOM은 트리구조로 되어있어서 이해하기 쉽다는 장점이 있지만, 이러한 처리과정은 브라우저에 어떠한 작은 변화가 있을 때마다 위의 작업들을 계속적으로 반복하며 다시 레이아웃을 형성하게 된다.   
<br>

이러한 구조 덕분에 거대한 DOM 트리에서는 속도 이슈가 발생하였고 지속적인 DOM 업데이트는 잦은 오류와 사용자 인터페이스에 악영향을 끼쳤다.  
또한 DOM을 제대로 찾지 못한다면 코드를 분석하려고 다시 거대한 HTML을 들여다 봐야 하는 단점이 존재했다.  

### 가상 돔 연산 과정

[react.js.org 가상 돔](https://ko.reactjs.org/docs/faq-internals.html#gatsby-focus-wrapper)

- 돔에서 일어나게 될 변화를 가상 돔에서 브라우저의 처리과정 중 렌더링 과정까지(Painting, Display 단계는 거치지 않음) 진행하면서 그 기록을 저장해두고, 실제 DOM에게 그 변화의 결과만을 전달해주어, 사용자에게 보여주게 된다.

규모가 큰, 특히나 SPA 방식의 웹 어플리케이션 같은 경우 사용자 인터랙션으로 일어나게 될 변화의 양은 적게는 수십번, 많게는 수천번까지 된다.  
그렇게되면 위와 같은 브라우저 처리과정을 수십번에서 수천번까지 실제 돔에서 계속적으로 렌더링과 페인팅, 디스플레이 과정을 거치면서 UI가 형성되어진다.  
<br>

하지만, 가상 돔 같은 경우 이러한 변화의 양을 한번에 묶어서 최종적으로 계산된 레이아웃의 정보만 실제 DOM에게 던져주게 된다. 이렇게 되면 브라우저의 연산 양이 기존보다 적어지게 되므로 자연스럽게 사용자에게 보다 쾌적한 UI 경험을 제공할 수 있게 된다.
![가상 돔 렌더 방식](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FbsK2db%2FbtqCoR6Sefb%2FbWCCnmtGeZKkabCwwxBCn0%2Ftfile.svg)

React 뿐만아니라 Vue또한 이러한 Virtual DOM 방식을 채택하였다.