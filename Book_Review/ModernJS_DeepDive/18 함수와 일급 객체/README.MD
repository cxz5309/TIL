# 18 함수와 일급 객체

## 18.1 일급 객체
다음과 같은 조건을 만족하는 객체를 일급 객체라 한다.

1. 무명의 리터럴로 생성할 수 있다. 즉, 런타임에 생성이 가능하다.
2. 변수나 자료구조에 저장할 수 있다.
3. 함수의 매개변수에 전달할 수 있다.
4. 함수의 반환값으로 사용할 수 있다.

자바스크립트의 함수는 위의 조건을 모두 만족하므로 일급 객체다.

- 함수가 일급 객체라는 것은 **함수를 객체와 동일하게 사용할 수 있다**는 의미이다. 
- 객체는 값이므로 **함수는 값과 동일하게 취급이 가능하다.** 따라서 함수는 값을 사용할 수 있는 곳이라면 어디든지 리터럴로 정의할 수 있으며 런타임에 함수 객체로 평가된다.
- 일급 객체로써 함수가 가지는 가장 큰 특징은 **일반 객체처럼 매개변수에도 전달 가능하고, 함수의 반환값으로도 사용 가능하다는 것이다.**
- 이것을 이용하여 **함수형 프로그래밍**이 가능한 것이 자바스크립트의 장점 중 하나이다.

## 18.2 함수 객체의 프로퍼티
- **함수는 객체다.** 따라서 함수도 프로퍼티를 갖는다.

![IMAGE](/public/Book_Review/ModernJS_DeepDive/18_함수와일급객체_1.PNG)  
![IMAGE](/public/Book_Review/ModernJS_DeepDive/18_함수와일급객체_2.PNG)  
- arguments, caller, length, name, prototype 프로퍼티는 모두 함수 객체의 데이터 프로퍼티다. 이들은 일반 객체에는 없는 함수형 객체 고유의 프로퍼티이다.
- 하지만 `__proto__`는 함수의 프로퍼티가 아닌 Object.prototype객체의 접근자 프로퍼티이다.
함수는 객체이므로 Object.prototype객체를 상속받을 수 있다.

### 18.2.1 arguments 프로퍼티
- 함수 객체의 arguments 프로퍼티 값은 다시 arguments 객체이다.
- argument 객체는 함수 호출시 전달된 인수(매개변수)들의 정보를 담고있는 순회가능한 유사 배열 객체이며 함수 내부에서만 사용가능한 지역 변수이다.
- js는 매개변수와 인수가 일치하는지 확인하지 않는다. 따라서 **함수 호출 시 매개변수 개수만큼 인수를 전달하지 않아도 에러가 발생하지 않는다.**
- js는 함수를 정의할때 매개변수를 변수와 동일하게 취급하여 암묵적으로 매개변수가 선언되고 undefined로 초기화된 이후 인수가 할당된다.
#### 매개변수보다 인수를 적게 전달했을 경우
- 나머지 매개변수는 undefined로 초기화된 상태를 유지한다.
#### 매개변수보다 인수를 많이 전달했을 경우
- 초과된 인수는 무시된다. 단 암묵적으로는 arguments객체의 프로퍼티로 보관된다.
- arguments객체는 **인수**를 나타내므로 모든 인수가 보관된다.

<br/>

- 선언된 매개변수와 인수를 확인하지 않는 자바스크립트의 특성 때문에 arguments를 사용해서 인수 개수마다 다른 처리가 필요할 수 있다.
- arguments객체는 배열 형태로 정보를 담고 있지만 실제 배열이 아닌 유사 배열 객체이고 유사 배열 객체는 for문으로 순회할 수 있는 객체이다.
- es6이후로 도입된 이터러블부터 arguments의 특성에 이터러블도 추가되었다.
- 이터러블을 순회하기 위해서는 기존 배열과 다른 방법을 사용해야 한다.
```
function multiply(x, y) {
   const iterator = arguments [Symbol.iterator]();

   console.log(iterator.next());
   console.log(iterator.next());
   console.log(iterator.next());
   console.log(iterator.next());
   console.log(iterator.next());

   return x * y;
}
```
### 18.2.2 length 프로퍼티
- 함수 객체의 length프로퍼티는 함수를 정의할 때 선언한 매개변수의 개수를 가리킨다.
- **arguments.length는 인자의 개수를 가리키고 length는 매개변수의 개수를 가리킨다.**

### 18.2.4 name 프로퍼티
- 함수의 이름을 나타낸다.

### 18.2.5 `__proto__` 접근자 프로퍼티
- 프로토타입 객체에 접근하기 위해 사용하는 접근자 프로퍼티다.
- 직접적인 접근이 불가능하기 때문에 접근자를 통해 접근해야 한다.

### 18.2.6 protype 프로퍼티
- 생성자 함수로 호출할 수 있는 함수 객체, 즉 constructor만이 소유하는 프로퍼티이다.
![image](/public/Book_Review/ModernJS_DeepDive/18_함수와일급객체_3.PNG)
