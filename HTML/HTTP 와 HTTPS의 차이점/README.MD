# HTTP 와 HTTPS의 차이점

## <a href="../HTML_개요/README.md#http">HTTP란</a>
- http는 80번 포트를 사용하고 있다. 따라서 HTTP 서버가 80번 포트에서 요청을 기다리고 있으며, 클라이언트는 80번 포트로 요청을 보내게 된다.
- 요청(Request)과 응답(Response)으로 구성되어 있으며 클라이언트가 요청을 하면 서버가 응답을 하는 구조로 되어 있다. 
- FTP나 텔넷과 다르게 비연결식이다.
  - 클라이언트가 서버에 정보를 요청하면 서버에서 정보를 제공하고 클라이언트와 연결을 종료한다.  
> - 클라이언트 : 웹어플리케이션의 경우 브라우저를 통해서 서버에 요청 ( 프로토콜 + 도메인 + URI )  
> - 서버 : 클라이언트로부터 받은 요청을 내부적으로 처리하여 그에 대한 결과를 응답   
## HTTP의 구조
- HTTP는 애플리케이션 레벨의 프로토콜로 TCP/IP 위에서 작동한다. 
- HTTP는 상태를 가지고 있지 않는 Stateless 프로토콜이며 Method, Path, Version, Headers, Body 등으로 구성된다. (stateless는 restpul의 특징 중 하나이다.) <a href="../../JS/REST/README.MD#rest">#rest</a>

## HTTP의 문제점
- 하지만 HTTP는 암호화가 되지 않은 평문 데이터를 전송하는 프로토콜이였기 때문에, HTTP로 비밀번호나 주민등록번호 등을 주고 받으면 제3자가 정보를 조회할 수 있었다. 
  - 평문 통신이기에 도청이 가능했다.
  - 완전성을 증명할 수 없기 떄문에 변조가 가능하다. 
  - 통신 상대를 확인하지 않기 때문에 위장이 가능하다.
    - 의미없는 리퀘스트도 수신하기 때문에 DoS 공격을 당할 수 있다
    - 통신하고 있는 상대방이 허가된 상대인지 확인할 수 없다.

## HTTPS
- TLS를 사용해 암호화된 연결을 하는 HTTP를 HTTPS(HTTP Secure)라고 한다.
> - TLS는 다양한 종류의 보안 통신을 하기 위한 프로토콜이다. 
- http://가 아닌 https://로 시작되며 기본 포트는 80번이 아닌 443번을 쓴다.
- HTTPS는 TLS 위에 HTTP 프로토콜을 얹어 보안된 HTTP 통신을 하는 프로토콜이다. 다시 말해 TLS는 HTTP뿐만이 아니라 FTP, SMTP와 같은 여타 프로토콜에도 적용할 수 있으며, HTTPS는 TLS와 HTTP가 조합된 프로토콜만을 가리킨다.

![https에 tls가 쌓이는 방법](https://user-images.githubusercontent.com/58318041/92450515-80994a80-f1f6-11ea-80a7-b0cc26f78ab5.png)  
출처: https://wooody92.github.io/network/HTTP-%EB%B3%B4%EC%95%88-%EB%AC%B8%EC%A0%9C%EC%99%80-HTTPS/  
### TLS : 
- 초창기 SSL에서 업그레이드된 버전이다. HTTP의 가장 큰 문제인 보안을 위해 정보를 암호화해서 송수신한다. 표준에 명시된 정식 명칭은 TLS지만 아직도 SSL이라는 용어로도 많이 사용되고 있다.
#### 암호화 방법
- HTTPS는 공개키/개인키 암호화 방식을 이용해 데이터를 암호화하고 있다. 공개키와 개인키는 서로를 위한 1쌍의 키이다.
  - 공개키: 모두에게 공개가능한 키
  - 개인키: 나만 가지고 알고 있어야 하는 키
- 공개키와 개인키로 암호화하면 다음과 같은 효과를 얻는다.
  - 공개키 암호화: 공개키로 암호화를 하면 개인키로만 복호화할 수 있다. -> 개인키는 나만 가지고 있으므로, 나만 볼 수 있다.
  - 개인키 암호화: 개인키로 암호화하면 공개키로만 복호화할 수 있다. -> 공개키는 모두에게 공개되어 있으므로, 내가 인증한 정보임을 알려 신뢰성을 보장할 수 있다.
- 데이터는 암호화되어 전송되기 때문에 임의의 사용자가 데이터를 조회하여도 원본의 데이터를 보는 것은 불가능하다.
- 서버는 클라이언트가 요청을 보낼 때 암호화를 하기 위한 공개키를 생성해야 하는데, 일반적으로는 인증된 기관(Certificate Authority) 에 공개키를 전송하여 인증서를 발급받고 있다.

## 장단점
### 단
- HTTPS를 이용하면 암호화/복호화의 과정이 필요하기 때문에 HTTP보다 속도가 느리다. (하지만 현재는 인터넷 속도의 향상으로 전혀 문제되지 않고 있다.)
- 또한 HTTPS는 인증서를 발급하고 유지하기 위한 추가 비용이 발생한다.
### 장
- HTTP는 암호화가 추가되지 않았기 때문에 보안에 취약한 반면, HTTPS는 안전하게 데이터를 주고받을 수 있다.