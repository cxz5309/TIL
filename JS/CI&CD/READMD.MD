# CI & CD

## CI (Continuous Integration)
- 지속적 통합
- 여러명이서 만든 앱에 대한 코드 변경사항을 빌드, 테스트하여 지속적으로 통합한다.

## CD (Continuous Delivery, Continuous Deployment)
- 지속적 서비스 제공, 지속적 배포
- 변경사항을 프로덕션 환경까지 자동으로 릴리즈한다.

![cicd](../../public/JS/cicd1.png)  
- 결과적으로 CI/CD는 파이프라인으로 표현되는 실제 프로세스를 의미하고, 애플리케이션 개발에 지속적인 자동화 및 지속적인 모니터링을 추가하는 것을 의미한다. 
- 이 용어는 사례별로 CI/CD 파이프라인에 구현된 자동화 수준 정도에 따라 그 의미가 달라진다. 

## CI의 장점
- 지속적 통합을 하게되면 소스코드는 항상 Ready-to-run 상태가 됩니다. 즉, 중간에 누군가 합류를 해도 빌드가 되는 코드를 받을 수 있다.
- 만약 ci를 하지 않는다면 기존 코드가 작업중일 경우 소스코드를 예외처리 하는 등의 돌아가는 방법을 사용하던가 작업자와 상의 후 머지해야 한다. 또한 머지 코드가 에러가 난다면 이를 처리하는데에도 시간이 소요될 것이다.
- 항상 양질의 코드 퀄리티를 유지할 수 있습니다.
- 테스트의 자동화를 이루게되면 항상 테스트 코드를 통과하는 코드만 공유 레포에 올라갈 수 있기 때문에 상당한 퀄리티의 소스코드로 유지되게 됩니다.

## CD의 장점
- 개발부터 배포까지 과정이 번거롭지 않고 간소화 되기 때문에 사용자 피드백을 빠르게 반영할 수 있다.
- 장애 대응이 빨라진다. 릴리즈를 했는데 굉장히 크리티컬한 이슈가 발견되었을 때, 개발부터 배포까지의 과정이 복잡하면 반영에 오래걸리게 된다.
- 만약, 로드밸런서로 수십대의 서버를 동시에 운용한다면 CD를 하지않을 시 직접 서버에 들어가서 일일이 실행해야하기 때문에 하루종일 배포를 할 수도 있다.


## CI/CD 툴

|이름| 가격| 특징|
|---|---|---|
|Jenkins |무료 오픈소스| 자바로 구현됨 </br> 다양한 플러그인 제공 </br> 자유도가 높으나 그만큼 난이도도 높음 </br> 호스팅을 직접해야하기 때문에 서버 운영 및 관리 비용이 발생(메모리 사용량이 생각보다 크다)
|Circle CI |무료플랜 : 6000 빌드타임, 30 job 동시지원, 도커 사용 가능 </br> Performance : 15$/m, 빌드 사용한만큼 추가, 사용자 5명 이상 추가  </br> Scale 기업용 플랜 : 꽤 비싸다고 한다. | Docker-Compose를 사용 가능  </br>  무료 플랜에서는 도커 레이어 캐싱 불가|
|Travis CI| 무료플랜 : 개인 사용만 가능 </br> Core : $69/m, job 하나당 플랜 가격 상승 </br> Enterprise : Core가 69달러인데 기업용은 더.. | Github 의존도가 높음 </br> 쉬운 설정 </br> 빌드 매트릭스 제공 (여러 버전으로 빌드를 해야할 때 이를 지원함.)|
|GitLab CI| 무료플랜  </br> Primium </br> Ultimate | GitLab과의 손쉬운 연동 </br>  Docker 친화적임(Docker Repo 무료 제공) </br> UI가 쉽고 간편함  </br> 모든 job의 아티팩트 정의 및 업로드/다운로드|
|Github Actions | 무료 사용량 이후 과금 | 매우 쉽고 간단 </br> ui가 다른 것처럼 세세하지 못함|
|AWS CodePipeline | 프리티어로 활성 파이프라인 1개 무료(라고 써있으나 내부의 CodeBuild의 사용량은 따로이고 이건 꽤 빨리 소모된다.) | 첫 구축한 ci/cd 툴  </br>  사용 후기가 너무 적어 설정하는데 불편 </br> ui나 사용성은 만족 |



> 출처  
> https://minz.dev/18  
> https://owin2828.github.io/devlog/2020/01/09/cicd-1.html    